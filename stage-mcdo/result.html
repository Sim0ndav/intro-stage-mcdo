<!DOCTYPE html>
<html>

<head>
    <title>Resultat de la roue de la fortune</title>
    <link rel="stylesheet" type="text/css" href="style-roue.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="result">
            <h1>Resultats :</h1>
            <div class="result-image">
                <img id="result-img" src="" alt="Résultat">
            </div>
            <div class="result-text" id="result-text"></div>
        </div>
    </div>

    <script>

        function launchConfetti() {
            const duration = 200;
            const particleCount = 20;


            const confettiSettings = {
                particleCount: particleCount,
                startVelocity: 50,
                spread: 60,
                ticks: 200,
                origin: { y: 0.6 },
            };


            function generateConfetti() {

                confetti({
                    ...confettiSettings,
                    angle: 60,
                    origin: { x: 0 }
                });


                confetti({
                    ...confettiSettings,
                    angle: 120,
                    origin: { x: 1 }
                });
            }


            function runConfetti() {
                generateConfetti();
                setTimeout(runConfetti, duration);
            }

            runConfetti();
        }


        window.onload = launchConfetti;


        const params = new URLSearchParams(window.location.search);
        const result = params.get('result');


        const resultImg = document.getElementById('result-img');
        const resultText = document.getElementById('result-text');


        switch (result) {
            case '1':
                resultImg.src = 'GOBELET-BOISSON-25CL-.png';
                resultImg.alt = 'Petite boisson';
                resultText.innerText = 'Vous avez gagne : Une petite boisson !';
                break;
            case '2':
                resultImg.src = 'sundae.png';
                resultImg.alt = 'sundae';
                resultText.innerText = "Vous avez gagne : Un sundae, veuillez recuperer votre lot au comptoir dans l'heure qui suit";
                break;
            case '3':
                resultImg.src = '';
                resultImg.alt = '';
                resultText.innerText = 'Dommage, vous avez perdu...';
                break;
            case '4':
                resultImg.src = 'expresso.png';
                resultImg.alt = 'expresso';
                resultText.innerText = 'Vous avez gagne : Un expresso';
                break;
            case '5':
                resultImg.src = '';
                resultImg.alt = '';
                resultText.innerText = 'Dommage, vous avez perdu...';
                break;
            case '6':
                resultImg.src = 'surprise.png';
                resultImg.alt = 'surprise';
                resultText.innerText = 'Vous avez gagne : Une surprise !';
                break;
            case '7':
                resultImg.src = '';
                resultImg.alt = '';
                resultText.innerText = 'Dommage, vous avez perdu...';
                break;
            case '8':
                resultImg.src = 'layout_icon-6-7.png';
                resultImg.alt = 'patisserie';
                resultText.innerText = 'Vous avez gagne : Une patisserie au choix !';
                break;
            default:
                resultText.innerText = 'Aucun résultat trouvé.';
        }
    </script>
</body>

</html>